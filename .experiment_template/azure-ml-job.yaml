# Tells Azure ML what kind of YAML this is.
#  Docs: https://docs.microsoft.com/en-us/azure/machine-learning/reference-yaml-job-command
$schema: https://azuremlschemas.azureedge.net/latest/commandJob.schema.json

# Name of the experiment where all jobs will end up in the Azure ML dashboard
experiment_name: <experiment-name>

# What to run
command: >-
  python main.py --data_path ${{inputs.data_path}} --greeting ${{inputs.greeting}}

inputs:
  data_path:
    # The dataset needs to be created and registered as a data asset in Azure ML. An
    # easy way to get the data path is via Azure Portal: Navigate to the Azure ML
    # workspace > Data tab, then click on the dataset. It should be under the Named
    # asset URI field.
    type: uri_folder  # default, can be changed to `uri_file` if data_path points to a file
    path: azureml:<azure-ml-dataset-name>:<azure-ml-dataset-version>
  greeting: "Hello"

# What code to make available
code: .

# Where to run it
environment:
  build:
    path: ./environment

compute: azureml:<azure-ml-cluster-name>
